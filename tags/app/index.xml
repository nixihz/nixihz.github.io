<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>app on nixihz 的技术博客</title>
    <link>https://nixihz.com/tags/app/</link>
    <description>Recent content in app on nixihz 的技术博客</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 03 Feb 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://nixihz.com/tags/app/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Flutter 音乐 app 之 加一个 WiFi 文件同步功能吧</title>
      <link>https://nixihz.com/flutter-music-app/Flutter-%E9%9F%B3%E4%B9%90-app-%E4%B9%8B-%E5%8A%A0%E4%B8%80%E4%B8%AA-WiFi-%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5%E5%8A%9F%E8%83%BD%E5%90%A7/</link>
      <pubDate>Wed, 03 Feb 2021 00:00:00 +0000</pubDate>
      
      <guid>https://nixihz.com/flutter-music-app/Flutter-%E9%9F%B3%E4%B9%90-app-%E4%B9%8B-%E5%8A%A0%E4%B8%80%E4%B8%AA-WiFi-%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5%E5%8A%9F%E8%83%BD%E5%90%A7/</guid>
      <description>既然是音乐播放器，那得搞些资源放进手机吧，兄弟你看小说吗？很多 app 有通过 Wi-Fi 把书传入手机的功能，效果还行，那就这么搞吧。
简单画一个图：
先看下实际效果图吧！
Flutter 启动 http 服务 使用 内置的 HttpServer ，代码如下：
import &#39;dart:io&#39;; server = await HttpServer.bind( hostIp, 8080, );  这就启动了一个 http 服务，这不是搞笑呢吗？请求咋处理，静态资源咋放这咋没说呢，稍候我先去吃个饭。
服务路由 由于该服务只有特定的几个功能，创建文件夹，获取列表，上传文件，删除文件，以及前端页面文件，所以路由功能直接根据 request uri ，进行 switch case 即可，代码如下：
// runZoned 捕获异步异常 var runZoned2 = runZoned(() async { await for (var request in server) { switch (request.uri.toString().split(&amp;quot;?&amp;quot;).first) { case &#39;/upload&#39;: _uploadController(request); break; case &#39;/musicList&#39;: _musicListController(request); break; case &#39;/deleteMusicInfo&#39;: _deleteMusicController(request); break; case &#39;/createFold&#39;: _createFoldController(request); break; case &#39;/&#39;: _homeController(request); break; default: _publicController(request); break; } } }, onError: (Object obj, StackTrace stack) { print(obj); print(stack); }); }  请求前端文件 前端功能不复杂，但是有一些交互，直接用 Vue 写一个 SPA，来的快一些。vue 打包以后把所有的文件放在 {project}/assets/httpserver/ 文件夹下即可访问。</description>
    </item>
    
    <item>
      <title>开篇词</title>
      <link>https://nixihz.com/flutter-music-app/%E5%BC%80%E7%AF%87%E8%AF%8D/</link>
      <pubDate>Tue, 02 Feb 2021 00:00:00 +0000</pubDate>
      
      <guid>https://nixihz.com/flutter-music-app/%E5%BC%80%E7%AF%87%E8%AF%8D/</guid>
      <description>过年没啥事，写一个 flutter 音乐播放器吧</description>
    </item>
    
  </channel>
</rss>
