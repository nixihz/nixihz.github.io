<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Go&#43;ImageMagickä½¿ç”¨svg&#43;pngç»˜åˆ¶å¤æ‚å›¾ç‰‡"><meta property="og:title" content="Go&#43;ImageMagickä½¿ç”¨svg&#43;pngç»˜åˆ¶å¤æ‚å›¾ç‰‡" />
<meta property="og:description" content="Go&#43;ImageMagickä½¿ç”¨svg&#43;pngç»˜åˆ¶å¤æ‚å›¾ç‰‡" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://keli.tech/posts/solution/golang/go-imagemagick/" />
<meta property="og:image" content="https://keli.tech/image/roodblauw.png"/>
<meta property="article:published_time" content="2018-06-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-06-01T00:00:00+00:00" /><meta property="og:site_name" content="Fnece X çš„æŠ€æœ¯åšå®¢" />
<title>Go&#43;ImageMagickä½¿ç”¨svg&#43;pngç»˜åˆ¶å¤æ‚å›¾ç‰‡ | FenceXçš„æŠ€æœ¯åšå®¢</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/book.min.1f6e8d2f9c6d88c5c9608954385a8412b7a3bceb5437cd99691c52f546d5eadf.css" integrity="sha256-H26NL5xtiMXJYIlUOFqEErejvOtUN82ZaRxS9UbV6t8=">


<script defer src="/en.search.min.8b356c37a9130dc117ba8ca0df7d3a1d835b88ee48c81a29731845ffcf7fd8e4.js" integrity="sha256-izVsN6kTDcEXuoyg3306HYNbiO5IyBopcxhF/89/2OQ="></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-44019270-5', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
  <link rel=stylesheet href="/js/audiojs/custom.css" >
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><img src="/image/logo.png" alt="Logo" /><span>FenceXçš„æŠ€æœ¯åšå®¢</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>









  

  






  <ul>
  
    

  <li >
    
      

  <a href="/posts/" >
      åšå®¢
  </a>


    

    




  
  <ul>
    
      
        

  <li >
    
      

  <a href="/posts/lang/" >
      ç¼–ç¨‹è¯­è¨€
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/posts/tools/" >
      å·¥å…·
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/posts/csp/" >
      å†…å®¹å®‰å…¨ç­–ç•¥
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/posts/redis/" >
      Redis åšå®¢
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/posts/mysql/" >
      Mysql åšå®¢
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/posts/mysql1/" >
      Spark
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/posts/yii2/" >
      yii2
  </a>


    

    






  </li>


      
    
      
        <li>

  <a href="/posts/about-me/" >
      å…³äºæˆ‘
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/ideas/" >
      æƒ³æ³•ğŸ’¡
  </a>


    

    




  
  <ul>
    
  </ul>
  



  </li>


  
  </ul>














</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Go&#43;ImageMagickä½¿ç”¨svg&#43;pngç»˜åˆ¶å¤æ‚å›¾ç‰‡</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#éœ€æ±‚-audio-preloadnoneaudio">éœ€æ±‚ <audio preload="none"></audio></a>
          <ul>
            <li></li>
            <li><a href="#å…ˆä¸Šæœ€ç»ˆæœ€ç»ˆæ•ˆæœ">å…ˆä¸Šæœ€ç»ˆæœ€ç»ˆæ•ˆæœ</a></li>
          </ul>
        </li>
        <li><a href="#æ­¥éª¤">æ­¥éª¤</a>
          <ul>
            <li><a href="#ä¸€go-ç»˜åˆ¶åŸºæœ¬å›¾å½¢">ä¸€ã€go ç»˜åˆ¶åŸºæœ¬å›¾å½¢</a></li>
            <li><a href="#äºŒimagemagick-convertæŠŠ-svg-è½¬åŒ–ä¸º-png-åŠ é˜´å½±">äºŒã€imagemagick convertæŠŠ svg è½¬åŒ–ä¸º png, åŠ é˜´å½±</a></li>
            <li><a href="#ä¸‰å¤„ç†é˜´å½±svg">ä¸‰ã€å¤„ç†é˜´å½±svg</a></li>
          </ul>
        </li>
        <li><a href="#é™„goä»£ç ">é™„goä»£ç ï¼š</a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      


<link rel=stylesheet href="" >


<article class="markdown">
  <h1>
    <a href="/posts/solution/golang/go-imagemagick/">Go&#43;ImageMagickä½¿ç”¨svg&#43;pngç»˜åˆ¶å¤æ‚å›¾ç‰‡</a>
  </h1>
  

<div>

  <h5>2018-06-01</h5>



  
  <div>
    
        <a href="/categories/solution/">solution</a>
  </div>
  

  
  <div>
    
        <a href="/tags/golang/">golang</a>, 
        <a href="/tags/imagemagick/">imagemagick</a>
  </div>
  


</div>


  <p><h2 id="éœ€æ±‚-audio-preloadnoneaudio">éœ€æ±‚ <audio preload="none"></audio></h2>
<p>å¼€å‘è¿‡ç¨‹ä¼šæœ‰ä½¿ç”¨goç»˜åˆ¶è¾ƒä¸ºå¤æ‚å›¾å½¢çš„éœ€æ±‚ï¼Œæ¯”å¦‚è¿™æ¬¡ï¼Œéœ€è¦åšä¸€ä¸ªç±»ä¼¼æ‹–æ‹½å›¾æ¡ˆéªŒè¯ç ã€‚
å…·ä½“éœ€æ±‚ï¼š</p>
<ol>
<li>4æ¡è¾¹,å‡¹å‡¸å¹³3ä¸ªå½¢çŠ¶ï¼Œéšæœºç»„åˆï¼Œ</li>
<li>éšæœºä½ç½®ä¸Šæˆªå›¾å¦‚ä¸Šå½¢çŠ¶çš„å›¾ç‰‡ï¼Œå¹¶ä¸”åœ¨åŸå›¾æœ‰å¦‚ä¸Šå½¢çŠ¶çš„é˜´å½±é®ç½©</li>
</ol>
<p>goè‡ªå¸¦<code>image/draw</code> package ä¸èƒ½ç»˜åˆ¶å¤æ‚çš„å›¾å½¢ï¼ˆæˆ–è€…è¯´å¤ªå¤æ‚ï¼‰ï¼Œç»è¿‡å°è¯•ï¼Œå¯ä»¥ä½¿ç”¨goæ¥ç»˜åˆ¶svgï¼Œå†ä½¿ç”¨imagemagickæ¥è¿›è¡Œç‰¹æ•ˆå¤„ç†ï¼Œæœ€åå†æ¬¡ä½¿ç”¨goæŠŠå›¾å±‚èåˆåœ¨ä¸€èµ·ã€‚</p>
<h5 id="æ¶‰åŠpackage">æ¶‰åŠpackage</h5>
<p><code>github.com/ajstarks/svgo</code>  #åŸºæœ¬å›¾å½¢svgç»˜åˆ¶<br>
<code>github.com/gographics/imagick</code> #ç‰¹æ•ˆå¤„ç†ï¼ˆéœ€å®‰è£…imagemagick)</p>
<h3 id="å…ˆä¸Šæœ€ç»ˆæœ€ç»ˆæ•ˆæœ">å…ˆä¸Šæœ€ç»ˆæœ€ç»ˆæ•ˆæœ</h3>
<p><img src="/image/go/gm1.png" alt="origin.png"></p>
<p><img src="/image/go/gm2.png" alt="tile-final.png"></p>
<h2 id="æ­¥éª¤">æ­¥éª¤</h2>
<h3 id="ä¸€go-ç»˜åˆ¶åŸºæœ¬å›¾å½¢">ä¸€ã€go ç»˜åˆ¶åŸºæœ¬å›¾å½¢</h3>
<p>ä½¿ç”¨ svgo æ¥ç»˜åˆ¶ pathï¼Œç”Ÿæˆ svgï¼Œä»£ç è´´åœ¨æœ€å</p>
<h3 id="äºŒimagemagick-convertæŠŠ-svg-è½¬åŒ–ä¸º-png-åŠ é˜´å½±">äºŒã€imagemagick convertæŠŠ svg è½¬åŒ–ä¸º png, åŠ é˜´å½±</h3>
<p>æ³¨ï¼šåªå±•ç¤º imagemagick convertï¼Œæ²¡æœ‰èåˆåˆ° go ç¨‹åºé‡Œ</p>
<p><img src="/image/go/gm3.png" alt="tile.png"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># ImageMagick convert å‘½ä»¤</span>
convert <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  <span style="color:#ae81ff">\(</span> -background none MSVG:tile-cut.svg -background black -shadow 50x2+0+10 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    -gravity North -background none -extent 200x200 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    -compose over  <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    <span style="color:#ae81ff">\(</span> -background none MSVG:tile-cut.svg -background white -shadow 120x6+0+0 -resize 95% <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>      -gravity center -background none -extent 200x200 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    <span style="color:#ae81ff">\)</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    -background none -gravity NorthEast -geometry +0+0 -composite <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  <span style="color:#ae81ff">\)</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -compose over tile-line.svg -gravity center -geometry +0+0 -composite <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>tile.png
</code></pre></div><p>ä»£ç æ³¨é‡Šï¼š</p>
<ol>
<li>MSVG æ”¯æŒsvg ä½œä¸ºè¾“å…¥æºï¼Œéœ€è¦ imagemagick æ”¯æŒ rsvgï¼Œ æ¯”å¦‚macï¼š
<code>brew install imagemagick --with-librsvg </code></li>
<li><code>-background black -shadow 50x2+0+10</code> å‰ä¸¤ä¸ªæ•°å­—è‡ªå·±è°ƒç€çœ‹ï¼Œå½±å“shadowçš„å¤§å°å’Œé€æ˜åº¦ï¼Œåä¸¤ä¸ªæ˜¯xï¼Œyè½´åç§»ï¼Œå¯+å¯-</li>
<li><code>-background none</code> èƒŒæ™¯é€æ˜</li>
<li>compose ä¸¤ä¸ªå›¾å±‚ç»„åˆæ–¹å¼ï¼Œ over è¡¨ç¤º åè€…åœ¨å‰è€…ä¹‹ä¸Šï¼Œè¿˜æœ‰å…¶ä»–é€‰é¡¹ï¼Œè¯¦è§å®˜ç½‘æ‰‹å†Œ</li>
<li><code>-gravity North -background none -extent 200x200</code> -extent æ‰©å±•å›¾ç‰‡å°ºå¯¸ï¼Œ-gravity North è¡¨ç¤ºæ‰©å±•çš„æ—¶å€™ï¼ŒåŸå›¾å¤„äºä»€ä¹ˆä½ç½®ï¼ŒNorth è¡¨ç¤ºåŒ—ï¼Œè¿˜æœ‰NorthEast ç­‰ï¼Œè¯¦è§å®˜ç½‘æ‰‹å†Œ</li>
</ol>
<h3 id="ä¸‰å¤„ç†é˜´å½±svg">ä¸‰ã€å¤„ç†é˜´å½±svg</h3>
<p><img src="/image/go/gm4.png" alt="tile-shadow.png"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># ImageMagick convert å‘½ä»¤</span>
convert -density <span style="color:#ae81ff">2400</span> -background transparent  MSVG:tile-shadow.svg <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>-fill <span style="color:#e6db74">&#34;rgba(0,0,0,0.3)&#34;</span> -opaque black -resize 200x200 tile-shadow.png
</code></pre></div><p>ä»£ç æ³¨é‡Šï¼š</p>
<ol>
<li>-opaque åˆ é™¤å›¾ç‰‡ä¸­é¢œè‰²ï¼Œè¿™é‡Œåˆ é™¤é»‘è‰²ï¼Œå¡«å……rgba(0,0,0,0.3), å¦åˆ™ä¸èƒ½è½¬åŒ–é€æ˜åº¦ï¼Œè¿™é‡Œç”¨äº†ä¸€ä¸ªtrick</li>
<li>-density 2400 è¿™é‡Œé€šè¿‡ä¿®æ”¹äº†åˆ†è¾¨ç‡æ¥æé«˜ svg è½¬åŒ–åˆ° png çš„ç»†è‡´ç¨‹åº¦ï¼Œå†å¼ºåˆ¶ -resize 200x200</li>
</ol>
<p>å®Œæˆè¿™ä¸ªå°éœ€æ±‚ç»•æŒºå¤šå¼¯è·¯ç°æ€»ç»“å¦‚ä¸‹ï¼š</p>
<ol>
<li>go å¯ä»¥å®Œæˆä¸€äº›ç®€å•å›¾å½¢çš„ç»˜åˆ¶ï¼Œæ¯”å¦‚shape/tile ä¸­Atæ–¹æ³•å…¶å®æ˜¯å¯¹æ¯ä¸ªç‚¹è¿›è¡Œä¸Šè‰²ï¼Œè¿™æ˜¯ draw åŒ…çš„å®ç°</li>
<li>go æ”¯æŒå›¾å±‚å åŠ ï¼Œæ”¯æŒå›¾å±‚èåˆ</li>
<li>ç»˜åˆ¶å‡ ä½•å›¾å½¢ä½¿ç”¨ svg pathï¼Œå¾ˆæ–¹ä¾¿ï¼Œgoå¯ä»¥ä½¿ç”¨ svgo åŒ…ï¼Œä½†æ˜¯ä¸æ”¯æŒè½¬åŒ–æˆpngå›¾ç‰‡ï¼Œä¹Ÿä¸èƒ½ä½œä¸ºdrawåŒ…çš„è¾“å…¥æº</li>
<li>å›¾ç‰‡å¤„ç† ä½¿ç”¨ imagemagick, æˆ‘è¿™é‡Œæ²¡æœ‰ä½¿ç”¨æ‰©å±•æŠŠé€»è¾‘å†™åˆ°ä»£ç é‡Œï¼Œå› ä¸ºæˆ‘å¯ä»¥æŠŠè¿™äº› tile pngå…ˆç”Ÿæˆï¼Œgoç›´æ¥å åŠ å›¾å±‚ï¼Œé™ä½è¿ç®—ï¼Œæ¯”å¦‚è¿™æ¬¡éœ€æ±‚ï¼Œ4æ¡è¾¹ï¼Œ3ç§å½¢çŠ¶(å‡¹å‡¸å¹³),2ä¸ªç±»å‹(å¤–è¾¹é˜´å½±ï¼Œé˜´å½±å¡«å……) ï¼Œ3x3x3x3x2 = 162</li>
</ol>
<h2 id="é™„goä»£ç ">é™„goä»£ç ï¼š</h2>




<div class="book-tabs">

  <input type="radio" class="hidden" name="tabs-go-image" id="tabs-go-image-0" checked="checked" />
  <label for="tabs-go-image-0">
    main.go
  </label>
  <div class="book-tabs-content markdown-inner">
    <p>main.go</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;image&#34;</span>
	<span style="color:#e6db74">&#34;log&#34;</span>
	<span style="color:#a6e22e">_</span> <span style="color:#e6db74">&#34;image/jpeg&#34;</span>
	<span style="color:#a6e22e">_</span> <span style="color:#e6db74">&#34;image/png&#34;</span>
	<span style="color:#e6db74">&#34;os&#34;</span>
	<span style="color:#e6db74">&#34;math/rand&#34;</span>
	<span style="color:#e6db74">&#34;time&#34;</span>
	<span style="color:#e6db74">&#34;math&#34;</span>
	<span style="color:#e6db74">&#34;image/png&#34;</span>
	<span style="color:#e6db74">&#34;image/draw&#34;</span>
	<span style="color:#e6db74">&#34;captcha/shape&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {

    <span style="color:#75715e">//ä¿å­˜svgsï¼Œ
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">saveSvgs</span>()

	<span style="color:#a6e22e">cutWidth</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">200</span>
	<span style="color:#a6e22e">top</span>, <span style="color:#a6e22e">right</span>, <span style="color:#a6e22e">bottom</span>, <span style="color:#a6e22e">left</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
   
	<span style="color:#a6e22e">reader</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Open</span>(<span style="color:#e6db74">&#34;images/14d4c647b216975cb298481f4e550ebc.jpg&#34;</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
	}
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">reader</span>.<span style="color:#a6e22e">Close</span>()
	<span style="color:#a6e22e">m</span>, <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Decode</span>(<span style="color:#a6e22e">reader</span>)
	<span style="color:#a6e22e">rgbImg</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">m</span>.(<span style="color:#f92672">*</span><span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">YCbCr</span>)

	<span style="color:#a6e22e">reader2</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Open</span>(<span style="color:#e6db74">&#34;tile.png&#34;</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
	}
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">reader2</span>.<span style="color:#a6e22e">Close</span>()
	<span style="color:#a6e22e">m2</span>, <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Decode</span>(<span style="color:#a6e22e">reader2</span>)
	<span style="color:#a6e22e">rgbImg2</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">m2</span>.(<span style="color:#f92672">*</span><span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">NRGBA64</span>)

	<span style="color:#a6e22e">reader3</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Open</span>(<span style="color:#e6db74">&#34;tile-shadow.png&#34;</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
	}
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">reader3</span>.<span style="color:#a6e22e">Close</span>()
	<span style="color:#a6e22e">m3</span>, <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Decode</span>(<span style="color:#a6e22e">reader3</span>)
	<span style="color:#a6e22e">rgbImg3</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">m3</span>.(<span style="color:#f92672">*</span><span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">NRGBA64</span>)

	<span style="color:#a6e22e">randRect</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">getRandomRectangle</span>(<span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">Bounds</span>(), <span style="color:#a6e22e">cutWidth</span>, <span style="color:#a6e22e">cutWidth</span>)
	<span style="color:#a6e22e">tile</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">shape</span>.<span style="color:#a6e22e">Tile</span>{<span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Pt</span>(<span style="color:#ae81ff">45</span>, <span style="color:#ae81ff">0</span>), <span style="color:#a6e22e">cutWidth</span>, <span style="color:#a6e22e">top</span>, <span style="color:#a6e22e">right</span>, <span style="color:#a6e22e">bottom</span>, <span style="color:#a6e22e">left</span>, <span style="color:#66d9ef">false</span>}

    <span style="color:#75715e">// go draw åŒ…å¤„ç†ä»£ç ï¼Œ
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// æ–°å»ºå›¾ç‰‡
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">originImage</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">NewRGBA</span>(<span style="color:#a6e22e">rgbImg</span>.<span style="color:#a6e22e">Bounds</span>())
    <span style="color:#75715e">// ä½¿ç”¨drawåŸå›¾
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">draw</span>.<span style="color:#a6e22e">Draw</span>(<span style="color:#a6e22e">originImage</span>, <span style="color:#a6e22e">rgbImg</span>.<span style="color:#a6e22e">Bounds</span>(), <span style="color:#a6e22e">rgbImg</span>, <span style="color:#a6e22e">rgbImg</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Min</span>, <span style="color:#a6e22e">draw</span>.<span style="color:#a6e22e">Src</span>)
	<span style="color:#75715e">// æŠŠimagemagickå¤„ç†å¥½çš„é˜´å½±png ç»˜åˆ¶åˆ°å›¾ç‰‡çš„éšæœºä½ç½® randRect ä¹‹ä¸Š
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">draw</span>.<span style="color:#a6e22e">Draw</span>(<span style="color:#a6e22e">originImage</span>, <span style="color:#a6e22e">randRect</span>.<span style="color:#a6e22e">Bounds</span>(), <span style="color:#a6e22e">rgbImg3</span>, <span style="color:#a6e22e">rgbImg3</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Min</span>, <span style="color:#a6e22e">draw</span>.<span style="color:#a6e22e">Over</span>)

	<span style="color:#a6e22e">f2</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Create</span>(<span style="color:#e6db74">&#34;origin.png&#34;</span>)
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">f2</span>.<span style="color:#a6e22e">Close</span>()
	<span style="color:#a6e22e">png</span>.<span style="color:#a6e22e">Encode</span>(<span style="color:#a6e22e">f2</span>, <span style="color:#a6e22e">originImage</span>)

	<span style="color:#a6e22e">cutImage4</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">NewRGBA</span>(<span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Rect</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">cutWidth</span>, <span style="color:#a6e22e">cutWidth</span>))
	<span style="color:#75715e">// åœ¨éšæœºä½ç½®randRect æˆªå– tile å½¢çŠ¶çš„æˆªå›¾
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">draw</span>.<span style="color:#a6e22e">DrawMask</span>(<span style="color:#a6e22e">cutImage4</span>, <span style="color:#a6e22e">cutImage4</span>.<span style="color:#a6e22e">Bounds</span>(), <span style="color:#a6e22e">rgbImg</span>, <span style="color:#a6e22e">randRect</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Min</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">tile</span>, <span style="color:#a6e22e">tile</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Min</span>, <span style="color:#a6e22e">draw</span>.<span style="color:#a6e22e">Src</span>)
    <span style="color:#75715e">// åœ¨å›¾ç‰‡ä¹‹ä¸Šæ·»åŠ  imagemagick å¤„ç†å¥½çš„ tile.png
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">draw</span>.<span style="color:#a6e22e">Draw</span>(<span style="color:#a6e22e">cutImage4</span>, <span style="color:#a6e22e">cutImage4</span>.<span style="color:#a6e22e">Bounds</span>(), <span style="color:#a6e22e">rgbImg2</span>, <span style="color:#a6e22e">rgbImg2</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Min</span>, <span style="color:#a6e22e">draw</span>.<span style="color:#a6e22e">Over</span>)
	<span style="color:#a6e22e">f5</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Create</span>(<span style="color:#e6db74">&#34;tile-final.png&#34;</span>)
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">f5</span>.<span style="color:#a6e22e">Close</span>()
	<span style="color:#a6e22e">png</span>.<span style="color:#a6e22e">Encode</span>(<span style="color:#a6e22e">f5</span>, <span style="color:#a6e22e">cutImage4</span>)
}

<span style="color:#75715e">// ç»˜åˆ¶svg
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">saveSvgs</span>(){
    <span style="color:#a6e22e">cutWidth</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">200</span>
	<span style="color:#a6e22e">top</span>, <span style="color:#a6e22e">right</span>, <span style="color:#a6e22e">bottom</span>, <span style="color:#a6e22e">left</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>

    <span style="color:#75715e">//ä¿å­˜ svg æ–‡ä»¶
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">tileSvg</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">shape</span>.<span style="color:#a6e22e">TileSvg</span>{<span style="color:#a6e22e">cutWidth</span>, <span style="color:#a6e22e">top</span>, <span style="color:#a6e22e">right</span>, <span style="color:#a6e22e">bottom</span>, <span style="color:#a6e22e">left</span>}
	<span style="color:#a6e22e">tileSvg</span>.<span style="color:#a6e22e">SaveSvg</span>(<span style="color:#e6db74">&#34;tile-cut.svg&#34;</span>, <span style="color:#e6db74">&#34;stroke-width:10;stroke:White;fill:none;&#34;</span>)
	<span style="color:#a6e22e">tileSvg</span>.<span style="color:#a6e22e">SaveSvg</span>(<span style="color:#e6db74">&#34;tile-line.svg&#34;</span>, <span style="color:#e6db74">&#34;stroke-width:2;stroke:White;fill:none;&#34;</span>)
	<span style="color:#a6e22e">tileSvg</span>.<span style="color:#a6e22e">SaveSvg</span>(<span style="color:#e6db74">&#34;tile-shadow.svg&#34;</span>, <span style="color:#e6db74">&#34;stroke-width:2;stroke:White;fill:black;fill-opacity:0.5&#34;</span>)
}

<span style="color:#75715e">// éšæœºè·å–æˆªå›¾ä½ç½®
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getRandomRectangle</span>(<span style="color:#a6e22e">rectangle</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Rectangle</span>, <span style="color:#a6e22e">subWidth</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">subHeight</span> <span style="color:#66d9ef">int</span>) (<span style="color:#f92672">*</span><span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Rectangle</span>) {
	<span style="color:#a6e22e">bounds</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">rectangle</span>.<span style="color:#a6e22e">Bounds</span>()
	<span style="color:#a6e22e">width</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">bounds</span>.<span style="color:#a6e22e">Max</span>.<span style="color:#a6e22e">X</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">bounds</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">X</span>
	<span style="color:#a6e22e">height</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">bounds</span>.<span style="color:#a6e22e">Max</span>.<span style="color:#a6e22e">Y</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">bounds</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">Y</span>

	<span style="color:#a6e22e">rand</span>.<span style="color:#a6e22e">Seed</span>(<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Now</span>().<span style="color:#a6e22e">Unix</span>())
	<span style="color:#a6e22e">maxPosX</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Ceil</span>(float64(<span style="color:#a6e22e">width</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">0.7</span>) <span style="color:#f92672">-</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Ceil</span>(float64(<span style="color:#a6e22e">subWidth</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">1.3</span>)
	<span style="color:#a6e22e">maxPosY</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Ceil</span>(float64(<span style="color:#a6e22e">height</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">0.7</span>) <span style="color:#f92672">-</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Ceil</span>(float64(<span style="color:#a6e22e">subHeight</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">1.3</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">maxPosX</span> &lt; <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">maxPosY</span> &lt; <span style="color:#ae81ff">0</span> {
		<span style="color:#75715e">//todo error
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">tmp</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Rect</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>)
		<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">tmp</span>
	}
	<span style="color:#a6e22e">posX</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">rand</span>.<span style="color:#a6e22e">Intn</span>(int(<span style="color:#a6e22e">maxPosX</span>)) <span style="color:#f92672">+</span> int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Ceil</span>(float64(<span style="color:#a6e22e">width</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">0.3</span>))
	<span style="color:#a6e22e">posY</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">rand</span>.<span style="color:#a6e22e">Intn</span>(int(<span style="color:#a6e22e">maxPosY</span>)) <span style="color:#f92672">+</span> int(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Ceil</span>(float64(<span style="color:#a6e22e">height</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">0.3</span>))

	<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">maxPosX</span>, <span style="color:#a6e22e">maxPosY</span>)
	<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">posX</span>, <span style="color:#a6e22e">posY</span>, <span style="color:#a6e22e">posX</span><span style="color:#f92672">+</span>int(<span style="color:#a6e22e">subWidth</span>), <span style="color:#a6e22e">posY</span><span style="color:#f92672">+</span>int(<span style="color:#a6e22e">subHeight</span>))

	<span style="color:#a6e22e">retRectangle</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Rect</span>(<span style="color:#a6e22e">posX</span>, <span style="color:#a6e22e">posY</span>, <span style="color:#a6e22e">posX</span><span style="color:#f92672">+</span>int(<span style="color:#a6e22e">subWidth</span>), <span style="color:#a6e22e">posY</span><span style="color:#f92672">+</span>int(<span style="color:#a6e22e">subHeight</span>), )

	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">retRectangle</span>
}
</code></pre></div>
  </div>

  <input type="radio" class="hidden" name="tabs-go-image" id="tabs-go-image-1"  />
  <label for="tabs-go-image-1">
    shape/tilesvg.go
  </label>
  <div class="book-tabs-content markdown-inner">
    <p>ç»˜åˆ¶svgå›¾å½¢</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">shape</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;os&#34;</span>
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;github.com/ajstarks/svgo&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">TileSvg</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">Width</span> <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">T</span>     <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">R</span>     <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">B</span>     <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">L</span>     <span style="color:#66d9ef">int</span>
}

<span style="color:#75715e">/**
</span><span style="color:#75715e">shape svg path
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">TileSvg</span>) <span style="color:#a6e22e">SaveSvg</span>(<span style="color:#a6e22e">filename</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">stroke</span> <span style="color:#66d9ef">string</span>) {
	<span style="color:#a6e22e">width</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Width</span>
	<span style="color:#a6e22e">height</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Width</span>
	<span style="color:#a6e22e">f5</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Create</span>(<span style="color:#a6e22e">filename</span>)
	<span style="color:#a6e22e">canvas</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">New</span>(<span style="color:#a6e22e">f5</span>)
	<span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">Start</span>(<span style="color:#a6e22e">width</span>, <span style="color:#a6e22e">height</span>)

	<span style="color:#66d9ef">if</span> len(<span style="color:#a6e22e">stroke</span>) <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">stroke</span> = <span style="color:#e6db74">&#34;stroke-width:10;stroke:green;fill:red;&#34;</span>
	}
	<span style="color:#a6e22e">path</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;M%d,%d h%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">T</span> &gt; <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;A%d,%d 0 0,1 %d,%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	} <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">T</span> &lt; <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;A%d,%d 0 1,0 %d,%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	} <span style="color:#66d9ef">else</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;h+%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	}
	<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;h%d v%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">R</span> &gt; <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;A%d,%d 0 0,1 %d,%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">4</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	} <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">R</span> &lt; <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;A%d,%d 0 1,0 %d,%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">4</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	} <span style="color:#66d9ef">else</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;v+%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	}
	<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;v%d h-%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">B</span> &gt; <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;A%d,%d 0 0,1 %d,%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">4</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	} <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">B</span> &lt; <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;A%d,%d 0 1,0 %d,%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">4</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	} <span style="color:#66d9ef">else</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;h-%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	}
	<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;h-%d v-%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">L</span> &gt; <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34; A%d,%d 0 0,1 %d,%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	} <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">L</span> &lt; <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34; A%d,%d 0 1,0 %d,%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	} <span style="color:#66d9ef">else</span> {
		<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;v-%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	}
	<span style="color:#a6e22e">path</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;v-%d &#34;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>)
	<span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">Path</span>(<span style="color:#a6e22e">path</span>, <span style="color:#a6e22e">stroke</span>)

	<span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">End</span>()
}

</code></pre></div>
  </div>

  <input type="radio" class="hidden" name="tabs-go-image" id="tabs-go-image-2"  />
  <label for="tabs-go-image-2">
    shape/tile.go
  </label>
  <div class="book-tabs-content markdown-inner">
    <p>shape/tile.go</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">shape</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;image&#34;</span>
	<span style="color:#e6db74">&#34;image/color&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Tile</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">Min</span>    <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Point</span>
	<span style="color:#a6e22e">Width</span>  <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">T</span>      <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">R</span>      <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">B</span>      <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">L</span>      <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">Revert</span> <span style="color:#66d9ef">bool</span>
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Tile</span>) <span style="color:#a6e22e">ColorModel</span>() <span style="color:#a6e22e">color</span>.<span style="color:#a6e22e">Model</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">color</span>.<span style="color:#a6e22e">AlphaModel</span>
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Tile</span>) <span style="color:#a6e22e">Bounds</span>() <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Rectangle</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Rect</span>(<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">X</span>, <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">Y</span>, <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">X</span><span style="color:#f92672">+</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Width</span>, <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">Y</span><span style="color:#f92672">+</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Width</span>)
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Tile</span>) <span style="color:#a6e22e">At</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>) <span style="color:#a6e22e">color</span>.<span style="color:#a6e22e">Color</span> {

	<span style="color:#a6e22e">colorAt</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">color</span>.<span style="color:#a6e22e">Alpha</span>{<span style="color:#ae81ff">220</span>}
	<span style="color:#a6e22e">colorWithin</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">color</span>.<span style="color:#a6e22e">Alpha</span>{<span style="color:#ae81ff">220</span>}
	<span style="color:#a6e22e">colorWithout</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">color</span>.<span style="color:#a6e22e">Alpha</span>{<span style="color:#ae81ff">0</span>}
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Revert</span> {
		<span style="color:#a6e22e">colorWithin</span> = <span style="color:#a6e22e">color</span>.<span style="color:#a6e22e">Alpha</span>{<span style="color:#ae81ff">0</span>}
		<span style="color:#a6e22e">colorWithout</span> = <span style="color:#a6e22e">color</span>.<span style="color:#a6e22e">Alpha</span>{<span style="color:#ae81ff">220</span>}
	}

	<span style="color:#a6e22e">margin</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Width</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">5</span>
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">x</span> &gt; (<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">X</span><span style="color:#f92672">+</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">x</span> &lt; (<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Max</span>.<span style="color:#a6e22e">X</span><span style="color:#f92672">-</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">y</span> &gt; (<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">Y</span><span style="color:#f92672">+</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">y</span> &lt; (<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Max</span>.<span style="color:#a6e22e">Y</span><span style="color:#f92672">-</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>) {
		<span style="color:#a6e22e">colorAt</span> = <span style="color:#a6e22e">colorWithin</span>
	} <span style="color:#66d9ef">else</span> {
		<span style="color:#a6e22e">colorAt</span> = <span style="color:#a6e22e">colorWithout</span>
	}

	<span style="color:#a6e22e">r</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Width</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span>
	<span style="color:#75715e">//todo ä¼˜åŒ–ç®—æ³•
</span><span style="color:#75715e"></span>
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">T</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">roundSpot</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Pt</span>((<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Max</span>.<span style="color:#a6e22e">X</span><span style="color:#f92672">-</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">X</span>)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">X</span>, <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">Y</span><span style="color:#f92672">+</span><span style="color:#a6e22e">margin</span>)
		<span style="color:#a6e22e">xx</span>, <span style="color:#a6e22e">yy</span>, <span style="color:#a6e22e">rr</span> <span style="color:#f92672">:=</span> float64(<span style="color:#a6e22e">x</span><span style="color:#f92672">-</span><span style="color:#a6e22e">roundSpot</span>.<span style="color:#a6e22e">X</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>, float64(<span style="color:#a6e22e">y</span><span style="color:#f92672">-</span><span style="color:#a6e22e">roundSpot</span>.<span style="color:#a6e22e">Y</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>, float64(<span style="color:#a6e22e">r</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">xx</span><span style="color:#f92672">*</span><span style="color:#a6e22e">xx</span><span style="color:#f92672">+</span><span style="color:#a6e22e">yy</span><span style="color:#f92672">*</span><span style="color:#a6e22e">yy</span> &lt; <span style="color:#a6e22e">rr</span><span style="color:#f92672">*</span><span style="color:#a6e22e">rr</span> {
			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">T</span> &gt; <span style="color:#ae81ff">0</span> {
				<span style="color:#a6e22e">colorAt</span> = <span style="color:#a6e22e">colorWithin</span>
			} <span style="color:#66d9ef">else</span> {
				<span style="color:#a6e22e">colorAt</span> = <span style="color:#a6e22e">colorWithout</span>
			}
		}
	}

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">R</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">roundSpot</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Pt</span>(<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Max</span>.<span style="color:#a6e22e">X</span><span style="color:#f92672">-</span><span style="color:#a6e22e">margin</span>, (<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Max</span>.<span style="color:#a6e22e">Y</span><span style="color:#f92672">-</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">Y</span>)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">Y</span>)
		<span style="color:#a6e22e">xx</span>, <span style="color:#a6e22e">yy</span>, <span style="color:#a6e22e">rr</span> <span style="color:#f92672">:=</span> float64(<span style="color:#a6e22e">x</span><span style="color:#f92672">-</span><span style="color:#a6e22e">roundSpot</span>.<span style="color:#a6e22e">X</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>, float64(<span style="color:#a6e22e">y</span><span style="color:#f92672">-</span><span style="color:#a6e22e">roundSpot</span>.<span style="color:#a6e22e">Y</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>, float64(<span style="color:#a6e22e">r</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">xx</span><span style="color:#f92672">*</span><span style="color:#a6e22e">xx</span><span style="color:#f92672">+</span><span style="color:#a6e22e">yy</span><span style="color:#f92672">*</span><span style="color:#a6e22e">yy</span> &lt; <span style="color:#a6e22e">rr</span><span style="color:#f92672">*</span><span style="color:#a6e22e">rr</span> {
			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">R</span> &gt; <span style="color:#ae81ff">0</span> {
				<span style="color:#a6e22e">colorAt</span> = <span style="color:#a6e22e">colorWithin</span>
			} <span style="color:#66d9ef">else</span> {
				<span style="color:#a6e22e">colorAt</span> = <span style="color:#a6e22e">colorWithout</span>
			}
		}
	}

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">B</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">roundSpot</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Pt</span>((<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Max</span>.<span style="color:#a6e22e">X</span><span style="color:#f92672">-</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">X</span>)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">X</span>, (<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Max</span>.<span style="color:#a6e22e">Y</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">margin</span>))
		<span style="color:#a6e22e">xx</span>, <span style="color:#a6e22e">yy</span>, <span style="color:#a6e22e">rr</span> <span style="color:#f92672">:=</span> float64(<span style="color:#a6e22e">x</span><span style="color:#f92672">-</span><span style="color:#a6e22e">roundSpot</span>.<span style="color:#a6e22e">X</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>, float64(<span style="color:#a6e22e">y</span><span style="color:#f92672">-</span><span style="color:#a6e22e">roundSpot</span>.<span style="color:#a6e22e">Y</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>, float64(<span style="color:#a6e22e">r</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">xx</span><span style="color:#f92672">*</span><span style="color:#a6e22e">xx</span><span style="color:#f92672">+</span><span style="color:#a6e22e">yy</span><span style="color:#f92672">*</span><span style="color:#a6e22e">yy</span> &lt; <span style="color:#a6e22e">rr</span><span style="color:#f92672">*</span><span style="color:#a6e22e">rr</span> {
			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">B</span> &gt; <span style="color:#ae81ff">0</span> {
				<span style="color:#a6e22e">colorAt</span> = <span style="color:#a6e22e">colorWithin</span>
			} <span style="color:#66d9ef">else</span> {
				<span style="color:#a6e22e">colorAt</span> = <span style="color:#a6e22e">colorWithout</span>
			}
		}
	}

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">L</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">roundSpot</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">Pt</span>(<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">X</span><span style="color:#f92672">+</span><span style="color:#a6e22e">margin</span>, (<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Bounds</span>().<span style="color:#a6e22e">Max</span>.<span style="color:#a6e22e">Y</span><span style="color:#f92672">-</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">Y</span>)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span><span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Min</span>.<span style="color:#a6e22e">Y</span>)
		<span style="color:#a6e22e">xx</span>, <span style="color:#a6e22e">yy</span>, <span style="color:#a6e22e">rr</span> <span style="color:#f92672">:=</span> float64(<span style="color:#a6e22e">x</span><span style="color:#f92672">-</span><span style="color:#a6e22e">roundSpot</span>.<span style="color:#a6e22e">X</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>, float64(<span style="color:#a6e22e">y</span><span style="color:#f92672">-</span><span style="color:#a6e22e">roundSpot</span>.<span style="color:#a6e22e">Y</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>, float64(<span style="color:#a6e22e">r</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">0.5</span>
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">xx</span><span style="color:#f92672">*</span><span style="color:#a6e22e">xx</span><span style="color:#f92672">+</span><span style="color:#a6e22e">yy</span><span style="color:#f92672">*</span><span style="color:#a6e22e">yy</span> &lt; <span style="color:#a6e22e">rr</span><span style="color:#f92672">*</span><span style="color:#a6e22e">rr</span> {
			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">L</span> &gt; <span style="color:#ae81ff">0</span> {
				<span style="color:#a6e22e">colorAt</span> = <span style="color:#a6e22e">colorWithin</span>
			} <span style="color:#66d9ef">else</span> {
				<span style="color:#a6e22e">colorAt</span> = <span style="color:#a6e22e">colorWithout</span>
			}
		}
	}

	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">colorAt</span>
}

</code></pre></div>
  </div>

</div></p>
</article>





<h3>See Also</h3>
<ul>
	
	<li><a href="/posts/notes/golang/go-imagemagick/">Go&#43;ImageMagickä½¿ç”¨svg&#43;pngç»˜åˆ¶å¤æ‚å›¾ç‰‡</a></li>
	
</ul>




<script src=""></script>


 

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
  
  <div class="book-comments">
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "fence-x" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
  
 
      </footer>
      
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#éœ€æ±‚-audio-preloadnoneaudio">éœ€æ±‚ <audio preload="none"></audio></a>
          <ul>
            <li></li>
            <li><a href="#å…ˆä¸Šæœ€ç»ˆæœ€ç»ˆæ•ˆæœ">å…ˆä¸Šæœ€ç»ˆæœ€ç»ˆæ•ˆæœ</a></li>
          </ul>
        </li>
        <li><a href="#æ­¥éª¤">æ­¥éª¤</a>
          <ul>
            <li><a href="#ä¸€go-ç»˜åˆ¶åŸºæœ¬å›¾å½¢">ä¸€ã€go ç»˜åˆ¶åŸºæœ¬å›¾å½¢</a></li>
            <li><a href="#äºŒimagemagick-convertæŠŠ-svg-è½¬åŒ–ä¸º-png-åŠ é˜´å½±">äºŒã€imagemagick convertæŠŠ svg è½¬åŒ–ä¸º png, åŠ é˜´å½±</a></li>
            <li><a href="#ä¸‰å¤„ç†é˜´å½±svg">ä¸‰ã€å¤„ç†é˜´å½±svg</a></li>
          </ul>
        </li>
        <li><a href="#é™„goä»£ç ">é™„goä»£ç ï¼š</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  

  <script src="/js/audiojs/audio.min.js"></script>
  <script src="/js/audiojs/custom.js"></script>
</body>

</html>












